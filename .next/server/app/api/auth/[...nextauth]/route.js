/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/[...nextauth]/route";
exports.ids = ["app/api/auth/[...nextauth]/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Fsriwararak%2FDesktop%2Fdevsriwararak%2Fapp-kiatwiwat-transport%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsriwararak%2FDesktop%2Fdevsriwararak%2Fapp-kiatwiwat-transport&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Fsriwararak%2FDesktop%2Fdevsriwararak%2Fapp-kiatwiwat-transport%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsriwararak%2FDesktop%2Fdevsriwararak%2Fapp-kiatwiwat-transport&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_sriwararak_Desktop_devsriwararak_app_kiatwiwat_transport_src_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/auth/[...nextauth]/route.ts */ \"(rsc)/./src/app/api/auth/[...nextauth]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/[...nextauth]/route\",\n        pathname: \"/api/auth/[...nextauth]\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/[...nextauth]/route\"\n    },\n    resolvedPagePath: \"/Users/sriwararak/Desktop/devsriwararak/app-kiatwiwat-transport/src/app/api/auth/[...nextauth]/route.ts\",\n    nextConfigOutput,\n    userland: _Users_sriwararak_Desktop_devsriwararak_app_kiatwiwat_transport_src_app_api_auth_nextauth_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGJTVCLi4ubmV4dGF1dGglNUQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnNyaXdhcmFyYWslMkZEZXNrdG9wJTJGZGV2c3Jpd2FyYXJhayUyRmFwcC1raWF0d2l3YXQtdHJhbnNwb3J0JTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnNyaXdhcmFyYWslMkZEZXNrdG9wJTJGZGV2c3Jpd2FyYXJhayUyRmFwcC1raWF0d2l3YXQtdHJhbnNwb3J0JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUN1RDtBQUNwSTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3NyaXdhcmFyYWsvRGVza3RvcC9kZXZzcml3YXJhcmFrL2FwcC1raWF0d2l3YXQtdHJhbnNwb3J0L3NyYy9hcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvc3Jpd2FyYXJhay9EZXNrdG9wL2RldnNyaXdhcmFyYWsvYXBwLWtpYXR3aXdhdC10cmFuc3BvcnQvc3JjL2FwcC9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Fsriwararak%2FDesktop%2Fdevsriwararak%2Fapp-kiatwiwat-transport%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsriwararak%2FDesktop%2Fdevsriwararak%2Fapp-kiatwiwat-transport&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/auth/[...nextauth]/route.ts":
/*!*************************************************!*\
  !*** ./src/app/api/auth/[...nextauth]/route.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ handler),\n/* harmony export */   POST: () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(rsc)/./src/lib/utils.ts\");\n\n\n\n\n//  const session = await getSession();\n//     const user_id = session?.user.id;\nasync function refreshAccessToken(token) {\n    try {\n        console.log(\"Attempting to refresh access token...\");\n        const apiUrl = `${\"https://api-go.thaibusinessmate.com\"}/auth/v1/refresh`;\n        const response = await fetch(apiUrl, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                refresh_token: token.refreshToken\n            })\n        });\n        // **แก้ไข:** ตรวจสอบว่า response สำเร็จหรือไม่\n        if (response.ok) {\n            const refreshedTokens = await response.json();\n            const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().decode(refreshedTokens.access_token);\n            console.log(\"Access token refreshed successfully.\");\n            // คืนค่า token ที่ได้รับการ refresh ใหม่\n            // console.log({all : refreshedTokens});\n            console.log({\n                token_2_token: refreshedTokens.access_token\n            });\n            console.log({\n                token_2_refreshToken: refreshedTokens.refresh_token\n            });\n            console.log({\n                decoded\n            });\n            return {\n                ...token,\n                accessToken: refreshedTokens.access_token,\n                // accessTokenExpires: Date.now() + 60 * 1000,\n                accessTokenExpires: decoded.exp ? decoded.exp * 1000 : Date.now() + 60 * 1000,\n                refreshToken: refreshedTokens.refresh_token,\n                error: undefined\n            };\n        }\n        console.error(\"Failed to refresh access token. Status:\", response.status);\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().decode(token.accessToken);\n        console.log({\n            111: decoded.user_id\n        });\n        if (response.status === 401) {\n            const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().decode(token.accessToken);\n            await (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.handleLogout)(Number(decoded?.user_id));\n            return {\n                ...token,\n                error: \"RefreshAccessTokenError 111\"\n            };\n        }\n        return {\n            ...token,\n            error: \"RefreshAccessTokenError 222\"\n        };\n    } catch (error) {\n        console.error(\"Error in refreshAccessToken function:\", error);\n        // กรณีเกิด Network error หรืออื่นๆ\n        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().decode(token.accessToken);\n        console.log({\n            2222: decoded.user_id\n        });\n        await (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.handleLogout)(Number(decoded.user_id));\n        return {\n            ...token,\n            error: \"RefreshAccessTokenError\"\n        };\n    }\n}\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n            name: \"Credentials\",\n            credentials: {\n                username: {\n                    label: \"username\",\n                    type: \"text\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            // ฟังก์ชันนี้จะถูกเรียกเมื่อมีการ signIn\n            async authorize (credentials) {\n                if (!credentials?.username || !credentials?.password) {\n                    return null;\n                }\n                try {\n                    const res = await fetch(`${\"https://api-go.thaibusinessmate.com\"}/auth/${\"v1\"}/login`, {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            username: credentials.username,\n                            password: credentials.password\n                        })\n                    });\n                    if (res.ok) {\n                        console.log(\"User authorized successfully:\");\n                        const userFromApi = await res.json();\n                        const token = userFromApi.access_token;\n                        const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().decode(token);\n                        console.log({\n                            decoded\n                        });\n                        console.log({\n                            token\n                        });\n                        console.log({\n                            userFromApi\n                        });\n                        return {\n                            id: decoded.user_id,\n                            name: decoded.username,\n                            role_id: userFromApi.role_id,\n                            accessToken: userFromApi.access_token,\n                            refreshToken: userFromApi.refresh_token,\n                            // expiresIn: 60 * 1000,\n                            accessTokenExpires: decoded.exp ? decoded.exp * 1000 : 60 * 1000\n                        };\n                    }\n                    return null;\n                } catch (error) {\n                    console.error(\"Authorize error:\", error);\n                    return null;\n                }\n            }\n        })\n    ],\n    callbacks: {\n        // Callback นี้จะถูกเรียกหลังจาก authorize สำเร็จ\n        async jwt ({ token, user }) {\n            // 1. ครั้งแรกที่ Login (object `user` จะถูกส่งมา)\n            if (user) {\n                token.accessToken = user.accessToken;\n                token.refreshToken = user.refreshToken;\n                // token.accessTokenExpires = Date.now() + user.accessTokenExpires;\n                token.accessTokenExpires = user.accessTokenExpires;\n                // token.accessTokenExpires =  user.expiresIn ;\n                token.role_id = user.role_id;\n                token.id = user.id;\n                return token;\n            }\n            // 2. ครั้งต่อๆ ไปที่เข้ามา (เช็ค session)\n            // ตรวจสอบว่า Access Token หมดอายุหรือยัง\n            if (Date.now() < token.accessTokenExpires) {\n                // ถ้ายังไม่หมดอายุ ก็คืนค่า token เดิม\n                return token;\n            }\n            // 3. ถ้า Access Token หมดอายุแล้ว ให้เรียกฟังก์ชัน refresh\n            console.log(\"refreshing.............\");\n            const refreshedToken = await refreshAccessToken(token);\n            return refreshedToken;\n        },\n        // Callback นี้จะถูกเรียกเพื่อสร้าง object session ที่จะส่งให้ Client\n        async session ({ session, token }) {\n            // ส่งข้อมูลจาก token ไปที่ session\n            if (token) {\n                session.user.id = token.id;\n                session.user.role_id = token.role_id;\n                session.accessToken = token.accessToken;\n                session.refreshToken = token.refreshToken;\n                session.error = token.error;\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: '/auth/sign-in'\n    },\n    session: {\n        strategy: \"jwt\"\n    },\n    secret: process.env.NEXTAUTH_SECRET\n};\nconst handler = next_auth__WEBPACK_IMPORTED_MODULE_0___default()(authOptions);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBa0Q7QUFFbkI7QUFHbUM7QUFDdkI7QUFHM0MsdUNBQXVDO0FBQ3ZDLHdDQUF3QztBQUV4QyxlQUFlSSxtQkFBbUJDLEtBQVU7SUFDeEMsSUFBSTtRQUNBQyxRQUFRQyxHQUFHLENBQUM7UUFFWixNQUFNQyxTQUFTLEdBQUdDLHFDQUEyQixDQUFDLGdCQUFnQixDQUFDO1FBRS9ELE1BQU1HLFdBQVcsTUFBTUMsTUFBTUwsUUFBUTtZQUNqQ00sUUFBUTtZQUNSQyxTQUFTO2dCQUNMLGdCQUFnQjtZQUNwQjtZQUNBQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7Z0JBQ2pCQyxlQUFlZCxNQUFNZSxZQUFZO1lBQ3JDO1FBQ0o7UUFFQSwrQ0FBK0M7UUFDL0MsSUFBSVIsU0FBU1MsRUFBRSxFQUFFO1lBQ2IsTUFBTUMsa0JBQWtCLE1BQU1WLFNBQVNXLElBQUk7WUFDM0MsTUFBTUMsVUFBVXZCLDBEQUFVLENBQUNxQixnQkFBZ0JJLFlBQVk7WUFDdkRwQixRQUFRQyxHQUFHLENBQUM7WUFDWix5Q0FBeUM7WUFDekMsd0NBQXdDO1lBRXhDRCxRQUFRQyxHQUFHLENBQUM7Z0JBQUVvQixlQUFlTCxnQkFBZ0JJLFlBQVk7WUFBQztZQUMxRHBCLFFBQVFDLEdBQUcsQ0FBQztnQkFBRXFCLHNCQUFzQk4sZ0JBQWdCSCxhQUFhO1lBQUM7WUFDbEViLFFBQVFDLEdBQUcsQ0FBQztnQkFBRWlCO1lBQVE7WUFFdEIsT0FBTztnQkFDSCxHQUFHbkIsS0FBSztnQkFDUndCLGFBQWFQLGdCQUFnQkksWUFBWTtnQkFDekMsOENBQThDO2dCQUM5Q0ksb0JBQW9CTixRQUFRTyxHQUFHLEdBQUdQLFFBQVFPLEdBQUcsR0FBRyxPQUFPQyxLQUFLQyxHQUFHLEtBQUssS0FBSztnQkFDekViLGNBQWNFLGdCQUFnQkgsYUFBYTtnQkFDM0NlLE9BQU9DO1lBQ1g7UUFD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QUN1QztBQUVrQiIsInNvdXJjZXMiOlsiL1VzZXJzL3NyaXdhcmFyYWsvRGVza3RvcC9kZXZzcml3YXJhcmFrL2FwcC1raWF0d2l3YXQtdHJhbnNwb3J0L3NyYy9hcHAvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTmV4dEF1dGgsIHsgQXV0aE9wdGlvbnMgfSBmcm9tIFwibmV4dC1hdXRoXCI7XG5pbXBvcnQgeyBKV1QgfSBmcm9tIFwibmV4dC1hdXRoL2p3dFwiO1xuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XG5cblxuaW1wb3J0IENyZWRlbnRpYWxzUHJvdmlkZXIgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvY3JlZGVudGlhbHNcIjtcbmltcG9ydCB7IGhhbmRsZUxvZ291dCB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xuaW1wb3J0IHsgZ2V0U2Vzc2lvbiB9IGZyb20gXCJuZXh0LWF1dGgvcmVhY3RcIjtcblxuLy8gIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXNzaW9uKCk7XG4vLyAgICAgY29uc3QgdXNlcl9pZCA9IHNlc3Npb24/LnVzZXIuaWQ7XG5cbmFzeW5jIGZ1bmN0aW9uIHJlZnJlc2hBY2Nlc3NUb2tlbih0b2tlbjogSldUKTogUHJvbWlzZTxKV1Q+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkF0dGVtcHRpbmcgdG8gcmVmcmVzaCBhY2Nlc3MgdG9rZW4uLi5cIik7XG5cbiAgICAgICAgY29uc3QgYXBpVXJsID0gYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJfS9hdXRoL3YxL3JlZnJlc2hgO1xuXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYXBpVXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICByZWZyZXNoX3Rva2VuOiB0b2tlbi5yZWZyZXNoVG9rZW4sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gKirguYHguIHguYnguYTguII6Kiog4LiV4Lij4Lin4LiI4Liq4Lit4Lia4Lin4LmI4LiyIHJlc3BvbnNlIOC4quC4s+C5gOC4o+C5h+C4iOC4q+C4o+C4t+C4reC5hOC4oeC5iFxuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZnJlc2hlZFRva2VucyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QuZGVjb2RlKHJlZnJlc2hlZFRva2Vucy5hY2Nlc3NfdG9rZW4pIGFzIHsgZXhwPzogbnVtYmVyIH07XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFjY2VzcyB0b2tlbiByZWZyZXNoZWQgc3VjY2Vzc2Z1bGx5LlwiKTtcbiAgICAgICAgICAgIC8vIOC4hOC4t+C4meC4hOC5iOC4siB0b2tlbiDguJfguLXguYjguYTguJTguYnguKPguLHguJrguIHguLLguKMgcmVmcmVzaCDguYPguKvguKHguYhcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHthbGwgOiByZWZyZXNoZWRUb2tlbnN9KTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2coeyB0b2tlbl8yX3Rva2VuOiByZWZyZXNoZWRUb2tlbnMuYWNjZXNzX3Rva2VuIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coeyB0b2tlbl8yX3JlZnJlc2hUb2tlbjogcmVmcmVzaGVkVG9rZW5zLnJlZnJlc2hfdG9rZW4gfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh7IGRlY29kZWQgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4udG9rZW4sXG4gICAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IHJlZnJlc2hlZFRva2Vucy5hY2Nlc3NfdG9rZW4sXG4gICAgICAgICAgICAgICAgLy8gYWNjZXNzVG9rZW5FeHBpcmVzOiBEYXRlLm5vdygpICsgNjAgKiAxMDAwLFxuICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2VuRXhwaXJlczogZGVjb2RlZC5leHAgPyBkZWNvZGVkLmV4cCAqIDEwMDAgOiBEYXRlLm5vdygpICsgNjAgKiAxMDAwLFxuICAgICAgICAgICAgICAgIHJlZnJlc2hUb2tlbjogcmVmcmVzaGVkVG9rZW5zLnJlZnJlc2hfdG9rZW4sXG4gICAgICAgICAgICAgICAgZXJyb3I6IHVuZGVmaW5lZCwgLy8g4Lil4LmJ4Liy4LiHIGVycm9yIOC5gOC4geC5iOC4suC4l+C4tOC5ieC4h1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHJlZnJlc2ggYWNjZXNzIHRva2VuLiBTdGF0dXM6XCIsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QuZGVjb2RlKHRva2VuLmFjY2Vzc1Rva2VuKSBhcyB7IHVzZXJfaWQ/OiBudW1iZXIgfTtcbiAgICAgICAgY29uc29sZS5sb2coeyAxMTE6IGRlY29kZWQudXNlcl9pZCB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgICAgICBjb25zdCBkZWNvZGVkID0gand0LmRlY29kZSh0b2tlbi5hY2Nlc3NUb2tlbikgYXMgeyB1c2VyX2lkPzogbnVtYmVyIH07XG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVMb2dvdXQoTnVtYmVyKGRlY29kZWQ/LnVzZXJfaWQpKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4udG9rZW4sXG4gICAgICAgICAgICAgICAgZXJyb3I6IFwiUmVmcmVzaEFjY2Vzc1Rva2VuRXJyb3IgMTExXCIsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnRva2VuLFxuICAgICAgICAgICAgZXJyb3I6IFwiUmVmcmVzaEFjY2Vzc1Rva2VuRXJyb3IgMjIyXCIsXG4gICAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIHJlZnJlc2hBY2Nlc3NUb2tlbiBmdW5jdGlvbjpcIiwgZXJyb3IpO1xuICAgICAgICAvLyDguIHguKPguJPguLXguYDguIHguLTguJQgTmV0d29yayBlcnJvciDguKvguKPguLfguK3guK3guLfguYjguJnguYZcbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC5kZWNvZGUodG9rZW4uYWNjZXNzVG9rZW4pIGFzIHsgdXNlcl9pZD86IG51bWJlciB9O1xuICAgICAgICBjb25zb2xlLmxvZyh7IDIyMjI6IGRlY29kZWQudXNlcl9pZCB9KTtcbiAgICAgICAgYXdhaXQgaGFuZGxlTG9nb3V0KE51bWJlcihkZWNvZGVkLnVzZXJfaWQpKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4udG9rZW4sXG4gICAgICAgICAgICBlcnJvcjogXCJSZWZyZXNoQWNjZXNzVG9rZW5FcnJvclwiLFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuY29uc3QgYXV0aE9wdGlvbnM6IEF1dGhPcHRpb25zID0ge1xuICAgIHByb3ZpZGVyczogW1xuICAgICAgICBDcmVkZW50aWFsc1Byb3ZpZGVyKHtcbiAgICAgICAgICAgIG5hbWU6IFwiQ3JlZGVudGlhbHNcIixcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiB7XG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IHsgbGFiZWw6IFwidXNlcm5hbWVcIiwgdHlwZTogXCJ0ZXh0XCIgfSxcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogeyBsYWJlbDogXCJQYXNzd29yZFwiLCB0eXBlOiBcInBhc3N3b3JkXCIgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyDguJ/guLHguIfguIHguYzguIrguLHguJnguJnguLXguYnguIjguLDguJbguLnguIHguYDguKPguLXguKLguIHguYDguKHguLfguYjguK3guKHguLXguIHguLLguKMgc2lnbkluXG4gICAgICAgICAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNyZWRlbnRpYWxzPy51c2VybmFtZSB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUEl9L2F1dGgvJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19WfS9sb2dpbmAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IGNyZWRlbnRpYWxzLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBjcmVkZW50aWFscy5wYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlVzZXIgYXV0aG9yaXplZCBzdWNjZXNzZnVsbHk6XCIpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJGcm9tQXBpID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gdXNlckZyb21BcGkuYWNjZXNzX3Rva2VuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWNvZGVkID0gand0LmRlY29kZSh0b2tlbikgYXMgeyB1c2VyX2lkPzogc3RyaW5nLCBleHA6IG51bWJlciwgW2tleTogc3RyaW5nXTogYW55IH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh7IGRlY29kZWQgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh7IHRva2VuIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coeyB1c2VyRnJvbUFwaSB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZGVjb2RlZC51c2VyX2lkISxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBkZWNvZGVkLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVfaWQ6IHVzZXJGcm9tQXBpLnJvbGVfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IHVzZXJGcm9tQXBpLmFjY2Vzc190b2tlbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW46IHVzZXJGcm9tQXBpLnJlZnJlc2hfdG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhwaXJlc0luOiA2MCAqIDEwMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW5FeHBpcmVzOiBkZWNvZGVkLmV4cCA/IGRlY29kZWQuZXhwICogMTAwMCA6IDYwICogMTAwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXV0aG9yaXplIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pLFxuICAgIF0sXG4gICAgY2FsbGJhY2tzOiB7XG4gICAgICAgIC8vIENhbGxiYWNrIOC4meC4teC5ieC4iOC4sOC4luC4ueC4geC5gOC4o+C4teC4ouC4geC4q+C4peC4seC4h+C4iOC4suC4gSBhdXRob3JpemUg4Liq4Liz4LmA4Lij4LmH4LiIXG4gICAgICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyIH0pIHtcbiAgICAgICAgICAgIC8vIDEuIOC4hOC4o+C4seC5ieC4h+C5geC4o+C4geC4l+C4teC5iCBMb2dpbiAob2JqZWN0IGB1c2VyYCDguIjguLDguJbguLnguIHguKrguYjguIfguKHguLIpXG4gICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgIHRva2VuLmFjY2Vzc1Rva2VuID0gdXNlci5hY2Nlc3NUb2tlbjtcbiAgICAgICAgICAgICAgICB0b2tlbi5yZWZyZXNoVG9rZW4gPSB1c2VyLnJlZnJlc2hUb2tlbjtcbiAgICAgICAgICAgICAgICAvLyB0b2tlbi5hY2Nlc3NUb2tlbkV4cGlyZXMgPSBEYXRlLm5vdygpICsgdXNlci5hY2Nlc3NUb2tlbkV4cGlyZXM7XG4gICAgICAgICAgICAgICAgdG9rZW4uYWNjZXNzVG9rZW5FeHBpcmVzID0gdXNlci5hY2Nlc3NUb2tlbkV4cGlyZXMgYXMgbnVtYmVyO1xuICAgICAgICAgICAgICAgIC8vIHRva2VuLmFjY2Vzc1Rva2VuRXhwaXJlcyA9ICB1c2VyLmV4cGlyZXNJbiA7XG4gICAgICAgICAgICAgICAgdG9rZW4ucm9sZV9pZCA9IHVzZXIucm9sZV9pZDtcbiAgICAgICAgICAgICAgICB0b2tlbi5pZCA9IHVzZXIuaWQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAyLiDguITguKPguLHguYnguIfguJXguYjguK3guYYg4LmE4Lib4LiX4Li14LmI4LmA4LiC4LmJ4Liy4Lih4LiyICjguYDguIrguYfguIQgc2Vzc2lvbilcbiAgICAgICAgICAgIC8vIOC4leC4o+C4p+C4iOC4quC4reC4muC4p+C5iOC4siBBY2Nlc3MgVG9rZW4g4Lir4Lih4LiU4Lit4Liy4Lii4Li44Lir4Lij4Li34Lit4Lii4Lix4LiHXG4gICAgICAgICAgICBpZiAoRGF0ZS5ub3coKSA8ICh0b2tlbi5hY2Nlc3NUb2tlbkV4cGlyZXMgYXMgbnVtYmVyKSkge1xuICAgICAgICAgICAgICAgIC8vIOC4luC5ieC4suC4ouC4seC4h+C5hOC4oeC5iOC4q+C4oeC4lOC4reC4suC4ouC4uCDguIHguYfguITguLfguJnguITguYjguLIgdG9rZW4g4LmA4LiU4Li04LihXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAzLiDguJbguYnguLIgQWNjZXNzIFRva2VuIOC4q+C4oeC4lOC4reC4suC4ouC4uOC5geC4peC5ieC4pyDguYPguKvguYnguYDguKPguLXguKLguIHguJ/guLHguIfguIHguYzguIrguLHguJkgcmVmcmVzaFxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZWZyZXNoaW5nLi4uLi4uLi4uLi4uLlwiKTtcbiAgICAgICAgICAgIGNvbnN0IHJlZnJlc2hlZFRva2VuID0gYXdhaXQgcmVmcmVzaEFjY2Vzc1Rva2VuKHRva2VuKTtcbiAgICAgICAgICAgIHJldHVybiByZWZyZXNoZWRUb2tlblxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIENhbGxiYWNrIOC4meC4teC5ieC4iOC4sOC4luC4ueC4geC5gOC4o+C4teC4ouC4geC5gOC4nuC4t+C5iOC4reC4quC4o+C5ieC4suC4hyBvYmplY3Qgc2Vzc2lvbiDguJfguLXguYjguIjguLDguKrguYjguIfguYPguKvguYkgQ2xpZW50XG4gICAgICAgIGFzeW5jIHNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiB9KSB7XG4gICAgICAgICAgICAvLyDguKrguYjguIfguILguYnguK3guKHguLnguKXguIjguLLguIEgdG9rZW4g4LmE4Lib4LiX4Li14LmIIHNlc3Npb25cbiAgICAgICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgICAgIHNlc3Npb24udXNlci5pZCA9IHRva2VuLmlkIGFzIHN0cmluZztcbiAgICAgICAgICAgICAgICBzZXNzaW9uLnVzZXIucm9sZV9pZCA9IHRva2VuLnJvbGVfaWQgYXMgbnVtYmVyO1xuICAgICAgICAgICAgICAgIHNlc3Npb24uYWNjZXNzVG9rZW4gPSB0b2tlbi5hY2Nlc3NUb2tlbiBhcyBzdHJpbmc7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5yZWZyZXNoVG9rZW4gPSB0b2tlbi5yZWZyZXNoVG9rZW4gYXMgc3RyaW5nO1xuICAgICAgICAgICAgICAgIHNlc3Npb24uZXJyb3IgPSB0b2tlbi5lcnJvciBhcyBzdHJpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHBhZ2VzOiB7XG4gICAgICAgIHNpZ25JbjogJy9hdXRoL3NpZ24taW4nLCAvLyDguJrguK3guIEgTmV4dEF1dGgg4Lin4LmI4Liy4Lir4LiZ4LmJ4LiyIExvZ2luIOC4guC4reC4h+C5gOC4o+C4suC4reC4ouC4ueC5iOC4l+C4teC5iOC5hOC4q+C4mVxuICAgIH0sXG4gICAgc2Vzc2lvbjoge1xuICAgICAgICBzdHJhdGVneTogXCJqd3RcIiwgLy8g4LmA4Lij4Liy4LiI4Liw4LmD4LiK4LmJIEpXVCDguYPguJnguIHguLLguKPguIjguLHguJTguIHguLLguKMgU2Vzc2lvblxuICAgIH0sXG4gICAgc2VjcmV0OiBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQsIC8vIFNlY3JldCBrZXkg4Liq4Liz4Lir4Lij4Lix4LiaIE5leHRBdXRoXG59O1xuXG5jb25zdCBoYW5kbGVyID0gTmV4dEF1dGgoYXV0aE9wdGlvbnMpO1xuXG5leHBvcnQgeyBoYW5kbGVyIGFzIEdFVCwgaGFuZGxlciBhcyBQT1NUIH07XG4iXSwibmFtZXMiOlsiTmV4dEF1dGgiLCJqd3QiLCJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiaGFuZGxlTG9nb3V0IiwicmVmcmVzaEFjY2Vzc1Rva2VuIiwidG9rZW4iLCJjb25zb2xlIiwibG9nIiwiYXBpVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSSIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZWZyZXNoX3Rva2VuIiwicmVmcmVzaFRva2VuIiwib2siLCJyZWZyZXNoZWRUb2tlbnMiLCJqc29uIiwiZGVjb2RlZCIsImRlY29kZSIsImFjY2Vzc190b2tlbiIsInRva2VuXzJfdG9rZW4iLCJ0b2tlbl8yX3JlZnJlc2hUb2tlbiIsImFjY2Vzc1Rva2VuIiwiYWNjZXNzVG9rZW5FeHBpcmVzIiwiZXhwIiwiRGF0ZSIsIm5vdyIsImVycm9yIiwidW5kZWZpbmVkIiwic3RhdHVzIiwidXNlcl9pZCIsIk51bWJlciIsImF1dGhPcHRpb25zIiwicHJvdmlkZXJzIiwibmFtZSIsImNyZWRlbnRpYWxzIiwidXNlcm5hbWUiLCJsYWJlbCIsInR5cGUiLCJwYXNzd29yZCIsImF1dGhvcml6ZSIsInJlcyIsIk5FWFRfUFVCTElDX1YiLCJ1c2VyRnJvbUFwaSIsImlkIiwicm9sZV9pZCIsImNhbGxiYWNrcyIsInVzZXIiLCJyZWZyZXNoZWRUb2tlbiIsInNlc3Npb24iLCJwYWdlcyIsInNpZ25JbiIsInN0cmF0ZWd5Iiwic2VjcmV0IiwiTkVYVEFVVEhfU0VDUkVUIiwiaGFuZGxlciIsIkdFVCIsIlBPU1QiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/auth/[...nextauth]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/utils.ts":
/*!**************************!*\
  !*** ./src/lib/utils.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AlertConfirm: () => (/* binding */ AlertConfirm),\n/* harmony export */   cn: () => (/* binding */ cn),\n/* harmony export */   formatNumber: () => (/* binding */ formatNumber),\n/* harmony export */   formathDateThai: () => (/* binding */ formathDateThai),\n/* harmony export */   handleLogout: () => (/* binding */ handleLogout)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(rsc)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ \"(rsc)/./node_modules/moment/moment.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sweetalert2 */ \"(rsc)/./node_modules/sweetalert2/dist/sweetalert2.esm.all.js\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tailwind-merge */ \"(rsc)/./node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n/* harmony import */ var moment_locale_th__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! moment/locale/th */ \"(rsc)/./node_modules/moment/locale/th.js\");\n/* harmony import */ var moment_locale_th__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(moment_locale_th__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next-auth/react */ \"(rsc)/./node_modules/next-auth/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _utils_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/utils/api */ \"(rsc)/./src/utils/api.ts\");\n\n\n\n\n // นำเข้าภาษาไทย\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_6__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\nconst AlertConfirm = (title, message)=>{\n    return sweetalert2__WEBPACK_IMPORTED_MODULE_2__[\"default\"].fire({\n        title: title || \"\",\n        showCancelButton: true,\n        confirmButtonText: \"ลบ\",\n        confirmButtonColor: \"red\",\n        cancelButtonText: \"ยกเลิก\"\n    }).then((result)=>{\n        if (result.isConfirmed) {\n            return true;\n        } else {\n            return false;\n        }\n    });\n};\nconst formathDateThai = (time)=>{\n    const date = moment__WEBPACK_IMPORTED_MODULE_1___default().utc(time);\n    const formattedDate = date.add(543, 'year').format('D MMM YYYY');\n    return formattedDate;\n};\nconst handleLogout = async (user_id)=>{\n    console.log({\n        handleLogout: user_id\n    });\n    try {\n        if (!user_id) {\n            console.warn(\"User not logged in\");\n            // alert('1111')\n            console.log('33333333333');\n            // signOut({ callbackUrl: '/auth/sign-in' })\n            return;\n        }\n        const res = await _utils_api__WEBPACK_IMPORTED_MODULE_5__.api.post(`/auth/${\"v1\"}/logout`, {\n            user_id\n        });\n    // console.log({ res });\n    // if (res.status === 200) {\n    //   await signOut({ callbackUrl: '/auth/sign-in' })\n    // }\n    } catch (error) {\n        console.log(error);\n        const message = (0,_utils_api__WEBPACK_IMPORTED_MODULE_5__.handleAxiosError)(error);\n        console.log(message);\n    } finally{\n        console.log('444444444');\n        await (0,next_auth_react__WEBPACK_IMPORTED_MODULE_4__.signOut)({\n            callbackUrl: '/auth/sign-in'\n        });\n    }\n};\nconst formatNumber = (value)=>{\n    if (!value) return \"0.00\";\n    return new Intl.NumberFormat(\"en-US\", {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2\n    }).format(Number(value));\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3V0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE0QztBQUNoQjtBQUNHO0FBQ1M7QUFDZCxDQUFDLGdCQUFnQjtBQUN1QjtBQUNkO0FBRzdDLFNBQVNPLEdBQUcsR0FBR0MsTUFBb0I7SUFDeEMsT0FBT0wsdURBQU9BLENBQUNILDBDQUFJQSxDQUFDUTtBQUN0QjtBQUVPLE1BQU1DLGVBQWUsQ0FBQ0MsT0FBZUM7SUFDMUMsT0FBT1QsbURBQUlBLENBQUNVLElBQUksQ0FBQztRQUNmRixPQUFPQSxTQUFTO1FBQ2hCRyxrQkFBa0I7UUFDbEJDLG1CQUFtQjtRQUNuQkMsb0JBQW9CO1FBQ3BCQyxrQkFBa0I7SUFDcEIsR0FBR0MsSUFBSSxDQUFDLENBQUNDO1FBQ1AsSUFBSUEsT0FBT0MsV0FBVyxFQUFFO1lBQ3RCLE9BQU87UUFDVCxPQUFPO1lBQ0wsT0FBTztRQUNUO0lBRUY7QUFFRixFQUFDO0FBR00sTUFBTUMsa0JBQWtCLENBQUNDO0lBQzlCLE1BQU1DLE9BQU9yQixpREFBVSxDQUFDb0I7SUFDeEIsTUFBTUcsZ0JBQWdCRixLQUFLRyxHQUFHLENBQUMsS0FBSyxRQUFRQyxNQUFNLENBQUM7SUFDbkQsT0FBT0Y7QUFDVCxFQUFDO0FBR00sTUFBTUcsZUFBZSxPQUFPQztJQUNqQ0MsUUFBUUMsR0FBRyxDQUFDO1FBQUVILGNBQWNDO0lBQVE7SUFFcEMsSUFBSTtRQUNGLElBQUksQ0FBQ0EsU0FBUztZQUNaQyxRQUFRRSxJQUFJLENBQUM7WUFDYixnQkFBZ0I7WUFDaEJGLFFBQVFDLEdBQUcsQ0FBQztZQUVaLDRDQUE0QztZQUM1QztRQUNGO1FBQ0EsTUFBTUUsTUFBTSxNQUFNM0IsMkNBQUdBLENBQUM0QixJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUVDLElBQXlCLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRU47UUFBUTtJQUNsRix3QkFBd0I7SUFDeEIsNEJBQTRCO0lBQzVCLG9EQUFvRDtJQUNwRCxJQUFJO0lBQ04sRUFBRSxPQUFPUyxPQUFPO1FBQ2RSLFFBQVFDLEdBQUcsQ0FBQ087UUFDWixNQUFNMUIsVUFBVUwsNERBQWdCQSxDQUFDK0I7UUFDakNSLFFBQVFDLEdBQUcsQ0FBQ25CO0lBRWQsU0FBVTtRQUNSa0IsUUFBUUMsR0FBRyxDQUFDO1FBQ1osTUFBTTFCLHdEQUFPQSxDQUFDO1lBQUVrQyxhQUFhO1FBQWdCO0lBQy9DO0FBRUYsRUFBQztBQUVNLE1BQU1DLGVBQWUsQ0FBQ0M7SUFDM0IsSUFBSSxDQUFDQSxPQUFPLE9BQU87SUFDbkIsT0FBTyxJQUFJQyxLQUFLQyxZQUFZLENBQUMsU0FBUztRQUNwQ0MsdUJBQXVCO1FBQ3ZCQyx1QkFBdUI7SUFDekIsR0FBR2xCLE1BQU0sQ0FBQ21CLE9BQU9MO0FBQ25CLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9zcml3YXJhcmFrL0Rlc2t0b3AvZGV2c3Jpd2FyYXJhay9hcHAta2lhdHdpd2F0LXRyYW5zcG9ydC9zcmMvbGliL3V0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNsc3gsIHR5cGUgQ2xhc3NWYWx1ZSB9IGZyb20gXCJjbHN4XCJcbmltcG9ydCBtb21lbnQgZnJvbSBcIm1vbWVudFwiO1xuaW1wb3J0IFN3YWwgZnJvbSBcInN3ZWV0YWxlcnQyXCI7XG5pbXBvcnQgeyB0d01lcmdlIH0gZnJvbSBcInRhaWx3aW5kLW1lcmdlXCJcbmltcG9ydCAnbW9tZW50L2xvY2FsZS90aCc7IC8vIOC4meC4s+C5gOC4guC5ieC4suC4oOC4suC4qeC4suC5hOC4l+C4olxuaW1wb3J0IHsgZ2V0U2Vzc2lvbiwgc2lnbk91dCwgdXNlU2Vzc2lvbiB9IGZyb20gXCJuZXh0LWF1dGgvcmVhY3RcIjtcbmltcG9ydCB7IGFwaSwgaGFuZGxlQXhpb3NFcnJvciB9IGZyb20gXCJAL3V0aWxzL2FwaVwiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBjbiguLi5pbnB1dHM6IENsYXNzVmFsdWVbXSkge1xuICByZXR1cm4gdHdNZXJnZShjbHN4KGlucHV0cykpXG59XG5cbmV4cG9ydCBjb25zdCBBbGVydENvbmZpcm0gPSAodGl0bGU6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XG4gIHJldHVybiBTd2FsLmZpcmUoe1xuICAgIHRpdGxlOiB0aXRsZSB8fCBcIlwiLFxuICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG4gICAgY29uZmlybUJ1dHRvblRleHQ6IFwi4Lil4LiaXCIsXG4gICAgY29uZmlybUJ1dHRvbkNvbG9yOiBcInJlZFwiLFxuICAgIGNhbmNlbEJ1dHRvblRleHQ6IFwi4Lii4LiB4LmA4Lil4Li04LiBXCJcbiAgfSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgaWYgKHJlc3VsdC5pc0NvbmZpcm1lZCkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gIH0pO1xuXG59XG5cblxuZXhwb3J0IGNvbnN0IGZvcm1hdGhEYXRlVGhhaSA9ICh0aW1lOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgZGF0ZSA9IG1vbWVudC51dGModGltZSk7XG4gIGNvbnN0IGZvcm1hdHRlZERhdGUgPSBkYXRlLmFkZCg1NDMsICd5ZWFyJykuZm9ybWF0KCdEIE1NTSBZWVlZJyk7XG4gIHJldHVybiBmb3JtYXR0ZWREYXRlXG59XG5cblxuZXhwb3J0IGNvbnN0IGhhbmRsZUxvZ291dCA9IGFzeW5jICh1c2VyX2lkOiBudW1iZXIpID0+IHtcbiAgY29uc29sZS5sb2coeyBoYW5kbGVMb2dvdXQ6IHVzZXJfaWQgfSk7XG5cbiAgdHJ5IHtcbiAgICBpZiAoIXVzZXJfaWQpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIlVzZXIgbm90IGxvZ2dlZCBpblwiKTtcbiAgICAgIC8vIGFsZXJ0KCcxMTExJylcbiAgICAgIGNvbnNvbGUubG9nKCczMzMzMzMzMzMzMycpO1xuXG4gICAgICAvLyBzaWduT3V0KHsgY2FsbGJhY2tVcmw6ICcvYXV0aC9zaWduLWluJyB9KVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZXMgPSBhd2FpdCBhcGkucG9zdChgL2F1dGgvJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19WfS9sb2dvdXRgLCB7IHVzZXJfaWQgfSlcbiAgICAvLyBjb25zb2xlLmxvZyh7IHJlcyB9KTtcbiAgICAvLyBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgLy8gICBhd2FpdCBzaWduT3V0KHsgY2FsbGJhY2tVcmw6ICcvYXV0aC9zaWduLWluJyB9KVxuICAgIC8vIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgY29uc3QgbWVzc2FnZSA9IGhhbmRsZUF4aW9zRXJyb3IoZXJyb3IpO1xuICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuXG4gIH0gZmluYWxseSB7XG4gICAgY29uc29sZS5sb2coJzQ0NDQ0NDQ0NCcpO1xuICAgIGF3YWl0IHNpZ25PdXQoeyBjYWxsYmFja1VybDogJy9hdXRoL3NpZ24taW4nIH0pXG4gIH1cblxufVxuXG5leHBvcnQgY29uc3QgZm9ybWF0TnVtYmVyID0gKHZhbHVlOiBudW1iZXIgfCBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBpZiAoIXZhbHVlKSByZXR1cm4gXCIwLjAwXCI7XG4gIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQoXCJlbi1VU1wiLCB7XG4gICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAyLFxuICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMixcbiAgfSkuZm9ybWF0KE51bWJlcih2YWx1ZSkpO1xufVxuIl0sIm5hbWVzIjpbImNsc3giLCJtb21lbnQiLCJTd2FsIiwidHdNZXJnZSIsInNpZ25PdXQiLCJhcGkiLCJoYW5kbGVBeGlvc0Vycm9yIiwiY24iLCJpbnB1dHMiLCJBbGVydENvbmZpcm0iLCJ0aXRsZSIsIm1lc3NhZ2UiLCJmaXJlIiwic2hvd0NhbmNlbEJ1dHRvbiIsImNvbmZpcm1CdXR0b25UZXh0IiwiY29uZmlybUJ1dHRvbkNvbG9yIiwiY2FuY2VsQnV0dG9uVGV4dCIsInRoZW4iLCJyZXN1bHQiLCJpc0NvbmZpcm1lZCIsImZvcm1hdGhEYXRlVGhhaSIsInRpbWUiLCJkYXRlIiwidXRjIiwiZm9ybWF0dGVkRGF0ZSIsImFkZCIsImZvcm1hdCIsImhhbmRsZUxvZ291dCIsInVzZXJfaWQiLCJjb25zb2xlIiwibG9nIiwid2FybiIsInJlcyIsInBvc3QiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfViIsImVycm9yIiwiY2FsbGJhY2tVcmwiLCJmb3JtYXROdW1iZXIiLCJ2YWx1ZSIsIkludGwiLCJOdW1iZXJGb3JtYXQiLCJtaW5pbXVtRnJhY3Rpb25EaWdpdHMiLCJtYXhpbXVtRnJhY3Rpb25EaWdpdHMiLCJOdW1iZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/utils.ts\n");

/***/ }),

/***/ "(rsc)/./src/utils/api.ts":
/*!**************************!*\
  !*** ./src/utils/api.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   api: () => (/* binding */ api),\n/* harmony export */   handleAxiosError: () => (/* binding */ handleAxiosError)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"(rsc)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/react */ \"(rsc)/./node_modules/next-auth/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_0__);\n\n\nconst api = axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n    baseURL: \"https://api-go.thaibusinessmate.com\" || 0,\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    timeout: 10000 // 10 วินาที\n});\n// Interceptor สำหรับการส่ง Request (เพิ่ม Token เข้าไปใน Header)\napi.interceptors.request.use(async (config)=>{\n    const session = await (0,next_auth_react__WEBPACK_IMPORTED_MODULE_0__.getSession)();\n    const token = session?.accessToken;\n    if (token && config.headers) {\n        config.headers[\"Authorization\"] = `Bearer ${token}`;\n    }\n    return config;\n});\n// Interceptor สำหรับการรับ Response (ตรวจสอบ Token ที่หมดอายุ)\napi.interceptors.response.use((response)=>response, async (error)=>{\n    const originalRequest = error.config;\n    // เงื่อนไข: ถ้า Error เป็น 401 (Unauthorized) และยังไม่เคยลอง Retry\n    if (error.response?.status === 401 && !originalRequest._retry) {\n        originalRequest._retry = true; // ตั้งค่า Flag เพื่อป้องกัน Infinite Loop\n        try {\n            // ดึง Session ใหม่ ซึ่งจะไปเรียก refreshAccessToken()\n            const session = await (0,next_auth_react__WEBPACK_IMPORTED_MODULE_0__.getSession)();\n            // ตรวจสอบว่ามี error จากการ refresh token หรือไม่\n            if (session?.error === 'RefreshAccessTokenError') {\n                console.log(\"Refresh token failed, redirecting to sign-in.\");\n                (0,next_auth_react__WEBPACK_IMPORTED_MODULE_0__.signIn)(); // พาผู้ใช้ไปหน้า Login\n                return Promise.reject(error);\n            }\n            // ถ้าได้ Token ใหม่มาแล้ว\n            if (session?.accessToken) {\n                // อัปเดต Authorization Header ของ Request เดิม\n                originalRequest.headers[\"Authorization\"] = `Bearer ${session.accessToken}`;\n                // ลองส่ง Request เดิมอีกครั้ง\n                return api(originalRequest);\n            }\n        } catch (refreshError) {\n            console.error(\"Error while refreshing token:\", refreshError);\n            (0,next_auth_react__WEBPACK_IMPORTED_MODULE_0__.signIn)();\n            return Promise.reject(refreshError);\n        }\n    }\n    // สำหรับ Error อื่นๆ ที่ไม่ใช่ 401\n    return Promise.reject(error);\n});\nconst handleAxiosError = async (error)=>{\n    console.log(error);\n    if (axios__WEBPACK_IMPORTED_MODULE_1__[\"default\"].isAxiosError(error)) {\n        const err = error;\n        if (err.response) {\n            const data = err.response.data;\n            console.log({\n                handleAxiosError: data\n            });\n            return data.message || 'เกิดข้อผิดพลาดจาก server';\n        } else if (err.request) {\n            return 'ไม่สามารถเชื่อมต่อ server ได้';\n        } else {\n            return err.message;\n        }\n    } else {\n        return 'เกิดข้อผิดพลาดไม่ทราบสาเหตุ';\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdXRpbHMvYXBpLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ3lEO0FBQ1E7QUFFMUQsTUFBTUcsTUFBcUJILDZDQUFLQSxDQUFDSSxNQUFNLENBQUM7SUFDM0NDLFNBQVNDLHFDQUEyQixJQUFJLENBQUU7SUFDMUNHLFNBQVM7UUFDTCxnQkFBZ0I7SUFDcEI7SUFDQUMsU0FBUyxNQUFNLFlBQVk7QUFDL0IsR0FBRTtBQUVGLGlFQUFpRTtBQUNqRVAsSUFBSVEsWUFBWSxDQUFDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxPQUFPQztJQUNoQyxNQUFNQyxVQUFVLE1BQU1kLDJEQUFVQTtJQUNoQyxNQUFNZSxRQUFRRCxTQUFTRTtJQUN2QixJQUFJRCxTQUFTRixPQUFPTCxPQUFPLEVBQUU7UUFDekJLLE9BQU9MLE9BQU8sQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLE9BQU8sRUFBRU8sT0FBTztJQUN2RDtJQUNBLE9BQU9GO0FBQ1g7QUFFQSwrREFBK0Q7QUFDL0RYLElBQUlRLFlBQVksQ0FBQ08sUUFBUSxDQUFDTCxHQUFHLENBQ3pCLENBQUNLLFdBQWFBLFVBQ2QsT0FBT0M7SUFDSCxNQUFNQyxrQkFBa0JELE1BQU1MLE1BQU07SUFFcEMsb0VBQW9FO0lBQ3BFLElBQUlLLE1BQU1ELFFBQVEsRUFBRUcsV0FBVyxPQUFPLENBQUNELGdCQUFnQkUsTUFBTSxFQUFFO1FBQzNERixnQkFBZ0JFLE1BQU0sR0FBRyxNQUFNLDBDQUEwQztRQUV6RSxJQUFJO1lBQ0Esc0RBQXNEO1lBQ3RELE1BQU1QLFVBQVUsTUFBTWQsMkRBQVVBO1lBRWhDLGtEQUFrRDtZQUNsRCxJQUFJYyxTQUFTSSxVQUFVLDJCQUEyQjtnQkFDOUNJLFFBQVFDLEdBQUcsQ0FBQztnQkFDWnRCLHVEQUFNQSxJQUFJLHVCQUF1QjtnQkFDakMsT0FBT3VCLFFBQVFDLE1BQU0sQ0FBQ1A7WUFDMUI7WUFFQSwwQkFBMEI7WUFDMUIsSUFBSUosU0FBU0UsYUFBYTtnQkFDdEIsK0NBQStDO2dCQUMvQ0csZ0JBQWdCWCxPQUFPLENBQUMsZ0JBQWdCLEdBQUcsQ0FBQyxPQUFPLEVBQUVNLFFBQVFFLFdBQVcsRUFBRTtnQkFDMUUsOEJBQThCO2dCQUM5QixPQUFPZCxJQUFJaUI7WUFDZjtRQUNKLEVBQUUsT0FBT08sY0FBYztZQUNuQkosUUFBUUosS0FBSyxDQUFDLGlDQUFpQ1E7WUFDL0N6Qix1REFBTUE7WUFDTixPQUFPdUIsUUFBUUMsTUFBTSxDQUFDQztRQUMxQjtJQUNKO0lBRUEsbUNBQW1DO0lBQ25DLE9BQU9GLFFBQVFDLE1BQU0sQ0FBQ1A7QUFDMUI7QUFHRyxNQUFNUyxtQkFBbUIsT0FBT1Q7SUFFbkNJLFFBQVFDLEdBQUcsQ0FBQ0w7SUFDWixJQUFJbkIsNkNBQUtBLENBQUM2QixZQUFZLENBQUNWLFFBQVE7UUFDM0IsTUFBTVcsTUFBTVg7UUFFWixJQUFJVyxJQUFJWixRQUFRLEVBQUU7WUFDZCxNQUFNYSxPQUFPRCxJQUFJWixRQUFRLENBQUNhLElBQUk7WUFDOUJSLFFBQVFDLEdBQUcsQ0FBQztnQkFBQ0ksa0JBQW1CRztZQUFJO1lBR3BDLE9BQU9BLEtBQUtDLE9BQU8sSUFBSTtRQUMzQixPQUFPLElBQUlGLElBQUlsQixPQUFPLEVBQUU7WUFDcEIsT0FBTztRQUNYLE9BQU87WUFDSCxPQUFPa0IsSUFBSUUsT0FBTztRQUN0QjtJQUNKLE9BQU87UUFDSCxPQUFPO0lBQ1g7QUFDSixFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvc3Jpd2FyYXJhay9EZXNrdG9wL2RldnNyaXdhcmFyYWsvYXBwLWtpYXR3aXdhdC10cmFuc3BvcnQvc3JjL3V0aWxzL2FwaS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoYW5kbGVMb2dvdXQgfSBmcm9tIFwiQC9saWIvdXRpbHNcIjtcbmltcG9ydCBheGlvcywgeyBBeGlvc0Vycm9yLCBBeGlvc0luc3RhbmNlIH0gZnJvbSBcImF4aW9zXCI7XG5pbXBvcnQgeyBnZXRTZXNzaW9uLCBzaWduSW4sIHVzZVNlc3Npb24gfSBmcm9tIFwibmV4dC1hdXRoL3JlYWN0XCI7XG5cbmV4cG9ydCBjb25zdCBhcGk6IEF4aW9zSW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoe1xuICAgIGJhc2VVUkw6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSSB8fCBcIlwiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9LFxuICAgIHRpbWVvdXQ6IDEwMDAwIC8vIDEwIOC4p+C4tOC4meC4suC4l+C4tVxufSlcblxuLy8gSW50ZXJjZXB0b3Ig4Liq4Liz4Lir4Lij4Lix4Lia4LiB4Liy4Lij4Liq4LmI4LiHIFJlcXVlc3QgKOC5gOC4nuC4tOC5iOC4oSBUb2tlbiDguYDguILguYnguLLguYTguJvguYPguJkgSGVhZGVyKVxuYXBpLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShhc3luYyAoY29uZmlnKSA9PiB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlc3Npb24oKTtcbiAgICBjb25zdCB0b2tlbiA9IHNlc3Npb24/LmFjY2Vzc1Rva2VuO1xuICAgIGlmICh0b2tlbiAmJiBjb25maWcuaGVhZGVycykge1xuICAgICAgICBjb25maWcuaGVhZGVyc1tcIkF1dGhvcml6YXRpb25cIl0gPSBgQmVhcmVyICR7dG9rZW59YDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbmZpZztcbn0pO1xuXG4vLyBJbnRlcmNlcHRvciDguKrguLPguKvguKPguLHguJrguIHguLLguKPguKPguLHguJogUmVzcG9uc2UgKOC4leC4o+C4p+C4iOC4quC4reC4miBUb2tlbiDguJfguLXguYjguKvguKHguJTguK3guLLguKLguLgpXG5hcGkuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShcbiAgICAocmVzcG9uc2UpID0+IHJlc3BvbnNlLFxuICAgIGFzeW5jIChlcnJvcikgPT4ge1xuICAgICAgICBjb25zdCBvcmlnaW5hbFJlcXVlc3QgPSBlcnJvci5jb25maWc7XG5cbiAgICAgICAgLy8g4LmA4LiH4Li34LmI4Lit4LiZ4LmE4LiCOiDguJbguYnguLIgRXJyb3Ig4LmA4Lib4LmH4LiZIDQwMSAoVW5hdXRob3JpemVkKSDguYHguKXguLDguKLguLHguIfguYTguKHguYjguYDguITguKLguKXguK3guIcgUmV0cnlcbiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwMSAmJiAhb3JpZ2luYWxSZXF1ZXN0Ll9yZXRyeSkge1xuICAgICAgICAgICAgb3JpZ2luYWxSZXF1ZXN0Ll9yZXRyeSA9IHRydWU7IC8vIOC4leC4seC5ieC4h+C4hOC5iOC4siBGbGFnIOC5gOC4nuC4t+C5iOC4reC4m+C5ieC4reC4h+C4geC4seC4mSBJbmZpbml0ZSBMb29wXG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8g4LiU4Li24LiHIFNlc3Npb24g4LmD4Lir4Lih4LmIIOC4i+C4tuC5iOC4h+C4iOC4sOC5hOC4m+C5gOC4o+C4teC4ouC4gSByZWZyZXNoQWNjZXNzVG9rZW4oKVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXNzaW9uKCk7XG5cbiAgICAgICAgICAgICAgICAvLyDguJXguKPguKfguIjguKrguK3guJrguKfguYjguLLguKHguLUgZXJyb3Ig4LiI4Liy4LiB4LiB4Liy4LijIHJlZnJlc2ggdG9rZW4g4Lir4Lij4Li34Lit4LmE4Lih4LmIXG4gICAgICAgICAgICAgICAgaWYgKHNlc3Npb24/LmVycm9yID09PSAnUmVmcmVzaEFjY2Vzc1Rva2VuRXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUmVmcmVzaCB0b2tlbiBmYWlsZWQsIHJlZGlyZWN0aW5nIHRvIHNpZ24taW4uXCIpO1xuICAgICAgICAgICAgICAgICAgICBzaWduSW4oKTsgLy8g4Lie4Liy4Lic4Li54LmJ4LmD4LiK4LmJ4LmE4Lib4Lir4LiZ4LmJ4LiyIExvZ2luXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8g4LiW4LmJ4Liy4LmE4LiU4LmJIFRva2VuIOC5g+C4q+C4oeC5iOC4oeC4suC5geC4peC5ieC4p1xuICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uPy5hY2Nlc3NUb2tlbikge1xuICAgICAgICAgICAgICAgICAgICAvLyDguK3guLHguJvguYDguJTguJUgQXV0aG9yaXphdGlvbiBIZWFkZXIg4LiC4Lit4LiHIFJlcXVlc3Qg4LmA4LiU4Li04LihXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsUmVxdWVzdC5oZWFkZXJzW1wiQXV0aG9yaXphdGlvblwiXSA9IGBCZWFyZXIgJHtzZXNzaW9uLmFjY2Vzc1Rva2VufWA7XG4gICAgICAgICAgICAgICAgICAgIC8vIOC4peC4reC4h+C4quC5iOC4hyBSZXF1ZXN0IOC5gOC4lOC4tOC4oeC4reC4teC4geC4hOC4o+C4seC5ieC4h1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpKG9yaWdpbmFsUmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAocmVmcmVzaEVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHdoaWxlIHJlZnJlc2hpbmcgdG9rZW46XCIsIHJlZnJlc2hFcnJvcik7XG4gICAgICAgICAgICAgICAgc2lnbkluKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlZnJlc2hFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyDguKrguLPguKvguKPguLHguJogRXJyb3Ig4Lit4Li34LmI4LiZ4LmGIOC4l+C4teC5iOC5hOC4oeC5iOC5g+C4iuC5iCA0MDFcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG4pO1xuXG5leHBvcnQgY29uc3QgaGFuZGxlQXhpb3NFcnJvciA9IGFzeW5jIChlcnJvcjogdW5rbm93bik6IFByb21pc2U8c3RyaW5nPiA9PiB7XG5cbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgaWYgKGF4aW9zLmlzQXhpb3NFcnJvcihlcnJvcikpIHtcbiAgICAgICAgY29uc3QgZXJyID0gZXJyb3IgYXMgQXhpb3NFcnJvclxuICAgIFxuICAgICAgICBpZiAoZXJyLnJlc3BvbnNlKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gZXJyLnJlc3BvbnNlLmRhdGEgYXMgeyBtZXNzYWdlPzogc3RyaW5nLCBlcnJvcj8gOiBzdHJpbmcgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coe2hhbmRsZUF4aW9zRXJyb3IgOiBkYXRhfSk7XG4gICAgICAgICAgICBcblxuICAgICAgICAgICAgcmV0dXJuIGRhdGEubWVzc2FnZSB8fCAn4LmA4LiB4Li04LiU4LiC4LmJ4Lit4Lic4Li04LiU4Lie4Lil4Liy4LiU4LiI4Liy4LiBIHNlcnZlcic7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyLnJlcXVlc3QpIHtcbiAgICAgICAgICAgIHJldHVybiAn4LmE4Lih4LmI4Liq4Liy4Lih4Liy4Lij4LiW4LmA4LiK4Li34LmI4Lit4Lih4LiV4LmI4LitIHNlcnZlciDguYTguJTguYknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGVyci5tZXNzYWdlO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICfguYDguIHguLTguJTguILguYnguK3guJzguLTguJTguJ7guKXguLLguJTguYTguKHguYjguJfguKPguLLguJrguKrguLLguYDguKvguJXguLgnO1xuICAgIH1cbn0iXSwibmFtZXMiOlsiYXhpb3MiLCJnZXRTZXNzaW9uIiwic2lnbkluIiwiYXBpIiwiY3JlYXRlIiwiYmFzZVVSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUEkiLCJoZWFkZXJzIiwidGltZW91dCIsImludGVyY2VwdG9ycyIsInJlcXVlc3QiLCJ1c2UiLCJjb25maWciLCJzZXNzaW9uIiwidG9rZW4iLCJhY2Nlc3NUb2tlbiIsInJlc3BvbnNlIiwiZXJyb3IiLCJvcmlnaW5hbFJlcXVlc3QiLCJzdGF0dXMiLCJfcmV0cnkiLCJjb25zb2xlIiwibG9nIiwiUHJvbWlzZSIsInJlamVjdCIsInJlZnJlc2hFcnJvciIsImhhbmRsZUF4aW9zRXJyb3IiLCJpc0F4aW9zRXJyb3IiLCJlcnIiLCJkYXRhIiwibWVzc2FnZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/utils/api.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/moment","vendor-chunks/sweetalert2","vendor-chunks/mime-db","vendor-chunks/axios","vendor-chunks/next-auth","vendor-chunks/tailwind-merge","vendor-chunks/@babel","vendor-chunks/follow-redirects","vendor-chunks/debug","vendor-chunks/form-data","vendor-chunks/get-intrinsic","vendor-chunks/asynckit","vendor-chunks/combined-stream","vendor-chunks/mime-types","vendor-chunks/proxy-from-env","vendor-chunks/ms","vendor-chunks/supports-color","vendor-chunks/has-symbols","vendor-chunks/delayed-stream","vendor-chunks/function-bind","vendor-chunks/es-set-tostringtag","vendor-chunks/get-proto","vendor-chunks/call-bind-apply-helpers","vendor-chunks/dunder-proto","vendor-chunks/math-intrinsics","vendor-chunks/es-errors","vendor-chunks/clsx","vendor-chunks/has-flag","vendor-chunks/gopd","vendor-chunks/es-define-property","vendor-chunks/hasown","vendor-chunks/has-tostringtag","vendor-chunks/es-object-atoms","vendor-chunks/jose","vendor-chunks/semver","vendor-chunks/openid-client","vendor-chunks/uuid","vendor-chunks/jsonwebtoken","vendor-chunks/oauth","vendor-chunks/jws","vendor-chunks/@panva","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/safe-buffer","vendor-chunks/preact","vendor-chunks/oidc-token-hash","vendor-chunks/lodash.once","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isplainobject","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isinteger","vendor-chunks/lodash.isboolean","vendor-chunks/lodash.includes","vendor-chunks/jwa","vendor-chunks/cookie","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&page=%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2F%5B...nextauth%5D%2Froute.ts&appDir=%2FUsers%2Fsriwararak%2FDesktop%2Fdevsriwararak%2Fapp-kiatwiwat-transport%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsriwararak%2FDesktop%2Fdevsriwararak%2Fapp-kiatwiwat-transport&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();